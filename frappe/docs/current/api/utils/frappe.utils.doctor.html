<!-- title: frappe.utils.doctor --><div class="dev-header">

<a class="btn btn-default btn-sm" disabled style="margin-bottom: 10px;">
	Version 6.x.x</a>


	<a class="btn btn-default btn-sm" href="https://github.com/frappe/frappe/blob/develop/frappe/utils/doctor.py"
		target="_blank" style="margin-left: 10px; margin-bottom: 10px;"><i class="octicon octicon-mark-github"></i> Source</a>

</div>





	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.celery_doctor" href="#frappe.utils.doctor.celery_doctor" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>celery_doctor</b>
        <i class="text-muted">(site=None)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.check_if_workers_online" href="#frappe.utils.doctor.check_if_workers_online" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>check_if_workers_online</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.doctor" href="#frappe.utils.doctor.doctor" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>doctor</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p>Prints diagnostic information for the scheduler</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.dump_queue_status" href="#frappe.utils.doctor.dump_queue_status" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>dump_queue_status</b>
        <i class="text-muted">(site=None)</i>
    </p>
	<div class="docs-attr-desc"><p>Dumps pending events and tasks per queue</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_pending_task_count" href="#frappe.utils.doctor.get_pending_task_count" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_pending_task_count</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p>Get count of pending tasks</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_queues" href="#frappe.utils.doctor.get_queues" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_queues</b>
        <i class="text-muted">(site=None)</i>
    </p>
	<div class="docs-attr-desc"><p>Returns the name of queues where frappe enqueues tasks as per the configuration</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_redis_conn" href="#frappe.utils.doctor.get_redis_conn" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_redis_conn</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p>Returns the redis connection that celery would use</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_running_tasks" href="#frappe.utils.doctor.get_running_tasks" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_running_tasks</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_task_body" href="#frappe.utils.doctor.get_task_body" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_task_body</b>
        <i class="text-muted">(taskstr)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_task_count_for_queue" href="#frappe.utils.doctor.get_task_count_for_queue" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_task_count_for_queue</b>
        <i class="text-muted">(queue)</i>
    </p>
	<div class="docs-attr-desc"><p>For a given queue, returns the count of every pending task and aggregate of
events pending</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_timedout_locks" href="#frappe.utils.doctor.get_timedout_locks" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_timedout_locks</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p>Get list of stale locks from all sites</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.purge_pending_tasks" href="#frappe.utils.doctor.purge_pending_tasks" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>purge_pending_tasks</b>
        <i class="text-muted">(event=all)</i>
    </p>
	<div class="docs-attr-desc"><p>Purge tasks of the event event type. Passing 'all' will not purge all
events but of the all event type, ie. the ones that are enqueued every five
mintues and would any leave daily, hourly and weekly tasks</p>
</div>
	<br>

	



<!-- autodoc -->